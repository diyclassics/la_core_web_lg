assets:
  cmd: python -m spacy run assets
  script:
    - mkdir -p assets/original
    - python -m spacy project assets
  deps: []
  outs:
    - path: assets/original/UD_Latin-Perseus
      md5: f938d7ff6ec84f18f2b2319a4f284019
    - path: assets/original/UD_Latin-PROIEL
      md5: 755cfad358e0ca8bbe368fc6ecfd65b1
    - path: assets/original/UD_Latin-ITTB
      md5: a83ff21c515a65baa161487f004f63c1
    - path: assets/original/UD_Latin-UDante
      md5: b467ba52c7a39d648f3a55845d917d54
    - path: assets/original/UD_Latin-LLCT
      md5: 90f2d2bba9419d93716a023d6d794797
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
preprocess:
  cmd: python -m spacy run preprocess
  script:
    - mkdir -p assets/preprocess
    - python scripts/conllu2tsv.py
    - python scripts/norm_lemma.py
    - python scripts/remove_perseus_nec.py
    - python scripts/analyze_feats.py
    - mkdir -p assets/processed
    - python scripts/tsv2conllu.py
  deps: []
  outs:
    - path: assets/processed/mod-la_perseus-ud-train.conllu
      md5: 178ad490e72c35fa5f5d4d046b1895cc
    - path: assets/processed/mod-la_perseus-ud-test.conllu
      md5: 998254d384d24b0542cdc1d6bff74b6e
    - path: assets/processed/mod-la_proiel-ud-train.conllu
      md5: c7b316f81626bd192ec29e469ac04537
    - path: assets/processed/mod-la_proiel-ud-dev.conllu
      md5: 3943b58b356a567b5e4923b8e2f4f51a
    - path: assets/processed/mod-la_proiel-ud-test.conllu
      md5: 6c38d42cf56a2006cb269e26d6cf3fad
    - path: assets/processed/mod-la_ittb-ud-train.conllu
      md5: 389e7f4a3651962ec1cecf397158269b
    - path: assets/processed/mod-la_ittb-ud-dev.conllu
      md5: 5de26590d335d7d59275d0a7a714dde0
    - path: assets/processed/mod-la_ittb-ud-test.conllu
      md5: 809899408c777f8f1f27402ab27e9451
    - path: assets/processed/mod-la_llct-ud-train.conllu
      md5: e6f75d7b29b91d0e5c5cb980ac4c9ca9
    - path: assets/processed/mod-la_llct-ud-dev.conllu
      md5: 3165938edb7789274422726bb1c3fee1
    - path: assets/processed/mod-la_llct-ud-test.conllu
      md5: 2106690634a3e004a32a906db7476f21
    - path: assets/processed/mod-la_udante-ud-train.conllu
      md5: dab71100ba3e44f91632fe1070c379f1
    - path: assets/processed/mod-la_udante-ud-dev.conllu
      md5: d264adf10180195ff9c98987355ba5b1
    - path: assets/processed/mod-la_udante-ud-test.conllu
      md5: f12e763e06b68a6b109758338324c2a2
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
convert:
  cmd: python -m spacy run convert
  script:
    - mkdir -p corpus/train
    - mkdir -p corpus/dev
    - mkdir -p corpus/test
    - python -m spacy convert assets/processed/mod-la_perseus-ud-train.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_perseus-ud-test.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_proiel-ud-train.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_proiel-ud-dev.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_proiel-ud-test.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_ittb-ud-train.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_ittb-ud-dev.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_ittb-ud-test.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_llct-ud-train.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_llct-ud-dev.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_llct-ud-test.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_udante-ud-train.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_udante-ud-dev.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - python -m spacy convert assets/processed/mod-la_udante-ud-test.conllu  corpus/  --converter
      conllu  --n-sents 10  --merge-subtokens
    - sh -c 'mv corpus/*train.spacy corpus/train/'
    - sh -c 'mv corpus/*dev.spacy corpus/dev/'
    - sh -c 'mv corpus/*test.spacy corpus/test/'
  deps:
    - path: assets/processed/mod-la_perseus-ud-train.conllu
      md5: 178ad490e72c35fa5f5d4d046b1895cc
    - path: assets/processed/mod-la_perseus-ud-test.conllu
      md5: 998254d384d24b0542cdc1d6bff74b6e
    - path: assets/processed/mod-la_proiel-ud-train.conllu
      md5: c7b316f81626bd192ec29e469ac04537
    - path: assets/processed/mod-la_proiel-ud-dev.conllu
      md5: 3943b58b356a567b5e4923b8e2f4f51a
    - path: assets/processed/mod-la_proiel-ud-test.conllu
      md5: 6c38d42cf56a2006cb269e26d6cf3fad
    - path: assets/processed/mod-la_ittb-ud-train.conllu
      md5: 389e7f4a3651962ec1cecf397158269b
    - path: assets/processed/mod-la_ittb-ud-dev.conllu
      md5: 5de26590d335d7d59275d0a7a714dde0
    - path: assets/processed/mod-la_ittb-ud-test.conllu
      md5: 809899408c777f8f1f27402ab27e9451
    - path: assets/processed/mod-la_llct-ud-train.conllu
      md5: e6f75d7b29b91d0e5c5cb980ac4c9ca9
    - path: assets/processed/mod-la_llct-ud-dev.conllu
      md5: 3165938edb7789274422726bb1c3fee1
    - path: assets/processed/mod-la_llct-ud-test.conllu
      md5: 2106690634a3e004a32a906db7476f21
    - path: assets/processed/mod-la_udante-ud-train.conllu
      md5: dab71100ba3e44f91632fe1070c379f1
    - path: assets/processed/mod-la_udante-ud-dev.conllu
      md5: d264adf10180195ff9c98987355ba5b1
    - path: assets/processed/mod-la_udante-ud-test.conllu
      md5: f12e763e06b68a6b109758338324c2a2
  outs:
    - path: corpus/train/mod-la_perseus-ud-train.spacy
      md5: d6fffd58f653534d62cb60440c272981
    - path: corpus/train/mod-la_proiel-ud-train.spacy
      md5: 07a6b5fc8def4cbc2fef7cd79fbfb516
    - path: corpus/train/mod-la_ittb-ud-train.spacy
      md5: 0e528d480900475b2ecc6e46017730f4
    - path: corpus/train/mod-la_llct-ud-train.spacy
      md5: f3222f103b50437fa641e6eb0ab2aa67
    - path: corpus/train/mod-la_udante-ud-train.spacy
      md5: 013700b4155025bb18087fd7c5185d82
    - path: corpus/dev/mod-la_proiel-ud-dev.spacy
      md5: be6b4ee74911cb07d156e643ede93b5d
    - path: corpus/dev/mod-la_ittb-ud-dev.spacy
      md5: fcb3d6b5186e73484e44dc857ddac915
    - path: corpus/dev/mod-la_llct-ud-dev.spacy
      md5: f2ee0f3f00dda47cb35a482a057528e0
    - path: corpus/dev/mod-la_udante-ud-dev.spacy
      md5: e6d11f7d61d6b984eea07a31efe5a2e1
    - path: corpus/test/mod-la_perseus-ud-test.spacy
      md5: eb16d2769eb48d3feae8b9bdd47f312d
    - path: corpus/test/mod-la_proiel-ud-test.spacy
      md5: 0823a7b8a0a4cb6673592b7e5b05a4a6
    - path: corpus/test/mod-la_ittb-ud-test.spacy
      md5: ed25a5f147120bd22abebe47863354f7
    - path: corpus/test/mod-la_llct-ud-test.spacy
      md5: f76403e932b21aa3aafba0ebb47904dc
    - path: corpus/test/mod-la_udante-ud-test.spacy
      md5: d439a99d73ffebf851607c8da05be371
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
extract-wikipedia:
  cmd: python -m spacy run extract-wikipedia
  script:
    - python -m wikiextractor.WikiExtractor --json --no-templates -b 1000G -q --processes
      16 vectors/downloaded/wikipedia/lawiki-latest-pages-articles.xml.bz2 -o vectors/extracted/la_wiki_latest/
  deps: []
  outs:
    - path: vectors/extracted/la_wiki_latest/AA/wiki_00
      md5: 983e77a1c3e4e9eb1fd0f2ed8e0ac3d5
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
tokenize-wikipedia:
  cmd: python -m spacy run tokenize-wikipedia
  script:
    - python scripts/tokenize_resource.py la vectors/tokenized/la_wiki_latest.txt
      --input-jsonl vectors/extracted/la_wiki_latest/AA/wiki_00 --n-process 16
  deps:
    - path: scripts/tokenize_resource.py
      md5: fa3ef97cfa59daa6d4c6ab830999e2ae
    - path: vectors/extracted/la_wiki_latest/AA/wiki_00
      md5: 983e77a1c3e4e9eb1fd0f2ed8e0ac3d5
  outs:
    - path: vectors/tokenized/la_wiki_latest.txt
      md5: 7f0374a0d97286ee5aff1fbe218c8349
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
tokenize-oscar:
  cmd: python -m spacy run tokenize-oscar
  script:
    - python scripts/tokenize_resource.py la vectors/tokenized/la_oscar_unshuffled_deduplicated_la.txt
      --input-dataset oscar --dataset-subset unshuffled_deduplicated_la --dataset-split
      train --n-process=16 --max-texts=-1
  deps:
    - path: scripts/tokenize_resource.py
      md5: fa3ef97cfa59daa6d4c6ab830999e2ae
  outs:
    - path: vectors/tokenized/la_oscar_unshuffled_deduplicated_la.txt
      md5: d6159704f617b6d9466a224a41dbddc9
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
create-input:
  cmd: python -m spacy run create-input
  script:
    - python scripts/concat_files.py  --input-file vectors/tokenized/la_wiki_latest.txt
      --input-file vectors/tokenized/la_oscar_unshuffled_deduplicated_la.txt --input-file
      vectors/tokenized/la_ud.txt vectors/input/la.txt
    - python scripts/vector_input_norm.py
  deps:
    - path: scripts/concat_files.py
      md5: b49fa200fab8104e4eb84843dabf6b1b
    - path: vectors/tokenized/la_wiki_latest.txt
      md5: 7f0374a0d97286ee5aff1fbe218c8349
    - path: vectors/tokenized/la_oscar_unshuffled_deduplicated_la.txt
      md5: d6159704f617b6d9466a224a41dbddc9
  outs:
    - path: vectors/input/la.txt
      md5: 5d3042317e5d029ee0a588a46ae40b75
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
train-floret-vectors:
  cmd: python -m spacy run train-floret-vectors
  script:
    - python scripts/train_floret.py --mode floret --model cbow --dim 300 --mincount
      20 --minn 5 --maxn 5 --neg 10 --epoch 5 --hashcount 2 --bucket 50000 --thread
      16 --lr 0.05 vectors/input/la.txt vectors/la
  deps:
    - path: scripts/train_floret.py
      md5: 2e97c20814b8a7788b0b791827609f69
    - path: vectors/input/la.txt
      md5: 5d3042317e5d029ee0a588a46ae40b75
  outs:
    - path: vectors/la.floret
      md5: 2db354d5e7090741711beb977dc018ad
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
train-fasttext-vectors:
  cmd: python -m spacy run train-fasttext-vectors
  script:
    - python scripts/train_floret.py --mode fasttext --model cbow --dim 300 --mincount
      20 --minn 5 --maxn 5 --neg 10 --epoch 5 --thread 16 --lr 0.05 --bucket 2000000
      vectors/input/la.txt vectors/la.fasttext
  deps:
    - path: scripts/train_floret.py
      md5: 2e97c20814b8a7788b0b791827609f69
    - path: vectors/input/la.txt
      md5: a0ba96d4cce38cf600b90cc39447e21d
  outs:
    - path: vectors/la.fasttext.vec
      md5: 3c5f27f23c67ab702fe27266767669c1
  spacy_version: 3.4.2
  spacy_git_version: 3d0e89536
tokenize-ud:
  cmd: python -m spacy run tokenize-ud
  script:
    - python scripts/sentencize_ud.py
  deps: []
  outs: []
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
load-vectors:
  cmd: python -m spacy run load-vectors
  script:
    - "python -m spacy init vectors la 'vectors/la.floret' vectors/floret-la --mode\
      \ floret --name la_core_web_md.vectors        "
  deps: []
  outs: []
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
train:
  cmd: python -m spacy run train
  script:
    - python -m spacy train  configs/config.cfg --output training --gpu-id -1  --paths.train
      corpus/train --paths.dev corpus/dev --nlp.lang=la --code scripts/functions.py
  deps:
    - path: corpus/train/mod-la_perseus-ud-train.spacy
      md5: 1fe01673979ce518ef09a167c1798e78
    - path: corpus/train/mod-la_proiel-ud-train.spacy
      md5: 5af52e1dd05ab9d8795425f2a31f19f6
    - path: corpus/train/mod-la_ittb-ud-train.spacy
      md5: f4f89e3ea654f34e811435f1ada25cc8
    - path: corpus/train/mod-la_llct-ud-train.spacy
      md5: 22aabb529a49466145055c735f385895
    - path: corpus/train/mod-la_udante-ud-train.spacy
      md5: a374c832c801d2ae5e0ba2d33409b0a0
    - path: corpus/dev/mod-la_proiel-ud-dev.spacy
      md5: 7ed0c395a17f576b1d5cb2707e80c1ac
    - path: corpus/dev/mod-la_ittb-ud-dev.spacy
      md5: c5505c888113d192ab90026e5f38c42d
    - path: corpus/dev/mod-la_llct-ud-dev.spacy
      md5: 2d8d8031fcc8e98eb1ad8c0a89a5b125
    - path: corpus/dev/mod-la_udante-ud-dev.spacy
      md5: a4d4a8f34dab320593a89c16cff80d1d
    - path: corpus/test/mod-la_perseus-ud-test.spacy
      md5: 9b6c7fe785a43d4f9be7334d39760bb4
    - path: corpus/test/mod-la_proiel-ud-test.spacy
      md5: 84de3031defeb27f5f1c6eb0f6f9b349
    - path: corpus/test/mod-la_ittb-ud-test.spacy
      md5: d90104df9a4a72a992e49892a3bfe599
    - path: corpus/test/mod-la_llct-ud-test.spacy
      md5: 3cebf8790cf9adcd554c1b1b4472fcd5
    - path: corpus/test/mod-la_udante-ud-test.spacy
      md5: 5ff412094819152127d893bcf84e60da
    - path: configs/config.cfg
      md5: 2f3e10a8925fee9a768702ede94210a7
  outs:
    - path: training/model-best
      md5: fab8d44b8f84ef09006aedc3518268ba
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python -m spacy evaluate  ./training/model-best  ./corpus/test/ --output ./metrics/la_core_web_lg_3.5.3.json  --code
      scripts/functions.py --gpu-id -1
  deps:
    - path: training/model-best
      md5: fab8d44b8f84ef09006aedc3518268ba
    - path: corpus/test/
      md5: 68f31d04f137c83bf369213769be8678
  outs:
    - path: metrics/{vars.package_name}-{vars.package_version}.json
      md5: null
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
package-dep:
  cmd: python -m spacy run package-dep
  script:
    - python -m spacy package  training/model-best packages  --name dep_cltk_md  --version
      0.3.1 --meta data/meta.json --code scripts/functions.py --force
  deps:
    - path: training/model-best
      md5: 47df83af3efca067c66fb8bcc169f1bb
  outs:
    - path: packages/la_dep_cltk_md-0.3.1/dist/en_dep_cltk_md-0.3.1.tar.gz
      md5: null
  spacy_version: 3.4.2
  spacy_git_version: 3d0e89536
document:
  cmd: python -m spacy run document
  script:
    - python -m spacy project document  --output README.md
  deps: []
  outs:
    - path: README.md
      md5: f36446826ccd31a58a170eea7faa4733
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
norm-corpus:
  cmd: python -m spacy run norm-corpus
  script:
    - python scripts/norm_docbin.py
  deps: []
  outs:
    - path: corpus/train/mod-la_perseus-ud-train.spacy
      md5: 1fe01673979ce518ef09a167c1798e78
    - path: corpus/train/mod-la_proiel-ud-train.spacy
      md5: 5af52e1dd05ab9d8795425f2a31f19f6
    - path: corpus/train/mod-la_ittb-ud-train.spacy
      md5: f4f89e3ea654f34e811435f1ada25cc8
    - path: corpus/train/mod-la_llct-ud-train.spacy
      md5: 22aabb529a49466145055c735f385895
    - path: corpus/train/mod-la_udante-ud-train.spacy
      md5: a374c832c801d2ae5e0ba2d33409b0a0
    - path: corpus/dev/mod-la_proiel-ud-dev.spacy
      md5: 7ed0c395a17f576b1d5cb2707e80c1ac
    - path: corpus/dev/mod-la_ittb-ud-dev.spacy
      md5: c5505c888113d192ab90026e5f38c42d
    - path: corpus/dev/mod-la_llct-ud-dev.spacy
      md5: 2d8d8031fcc8e98eb1ad8c0a89a5b125
    - path: corpus/dev/mod-la_udante-ud-dev.spacy
      md5: a4d4a8f34dab320593a89c16cff80d1d
    - path: corpus/test/mod-la_perseus-ud-test.spacy
      md5: 9b6c7fe785a43d4f9be7334d39760bb4
    - path: corpus/test/mod-la_proiel-ud-test.spacy
      md5: 84de3031defeb27f5f1c6eb0f6f9b349
    - path: corpus/test/mod-la_ittb-ud-test.spacy
      md5: d90104df9a4a72a992e49892a3bfe599
    - path: corpus/test/mod-la_llct-ud-test.spacy
      md5: 3cebf8790cf9adcd554c1b1b4472fcd5
    - path: corpus/test/mod-la_udante-ud-test.spacy
      md5: 5ff412094819152127d893bcf84e60da
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
train-sm:
  cmd: python -m spacy run train-sm
  script:
    - python -m spacy train  configs/config-sm.cfg --output training/sm --gpu-id -1  --paths.train
      corpus/train --paths.dev corpus/dev --nlp.lang=la --code scripts/functions.py
  deps:
    - path: corpus/train/mod-la_perseus-ud-train.spacy
      md5: 3e2414254ba92b7a66de8e08eb6e4b5c
    - path: corpus/train/mod-la_proiel-ud-train.spacy
      md5: fc4663c6ca402afb7dc8dca8c1e1c638
    - path: corpus/train/mod-la_ittb-ud-train.spacy
      md5: db1e7a9aabce40cab853324e6e1b8ef3
    - path: corpus/train/mod-la_llct-ud-train.spacy
      md5: 80576bdaeacaa49433dddfcc64db8114
    - path: corpus/train/mod-la_udante-ud-train.spacy
      md5: 6170cf2f3e0a3c31683ebc447841b254
    - path: corpus/dev/mod-la_proiel-ud-dev.spacy
      md5: a6ee85eed58427281cbe6967fa54ffc8
    - path: corpus/dev/mod-la_ittb-ud-dev.spacy
      md5: ab928011dc4fd5b57d3533617e909324
    - path: corpus/dev/mod-la_llct-ud-dev.spacy
      md5: 91c49c49c7c440476c15bb1fafca830b
    - path: corpus/dev/mod-la_udante-ud-dev.spacy
      md5: 8b4d4fa02657b9c97019850b35ee4b2a
    - path: corpus/test/mod-la_perseus-ud-test.spacy
      md5: 599ead0a966640ef5f051234c5415843
    - path: corpus/test/mod-la_proiel-ud-test.spacy
      md5: fd5ca642812a979d7086a88693895547
    - path: corpus/test/mod-la_ittb-ud-test.spacy
      md5: c9d758fea2b2a0283253bdbb609ba729
    - path: corpus/test/mod-la_llct-ud-test.spacy
      md5: 2a3fb1f37dbfd997a81bb381434145e6
    - path: corpus/test/mod-la_udante-ud-test.spacy
      md5: b39b5bfca042c773d50228732f90962d
    - path: configs/config-sm.cfg
      md5: 919d2a67d3dc537f6de814c98e144ba3
  outs:
    - path: training/sm/model-best
      md5: 652eaf03ca939a1fc5e10c18bb97ef40
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
evaluate-sm:
  cmd: python -m spacy run evaluate-sm
  script:
    - python -m spacy evaluate  ./training/sm/model-best  ./corpus/test/ --output
      ./metrics/la_core_web_sm_3.5.1.json  --code scripts/functions.py --gpu-id -1
  deps:
    - path: training/sm/model-best
      md5: 652eaf03ca939a1fc5e10c18bb97ef40
    - path: corpus/test/
      md5: cd66d444f39540bbd0c99cbec1bb7e50
  outs:
    - path: metrics/{vars.sm_core_package_name}-{vars.core_package_version}.json
      md5: null
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
package-sm:
  cmd: python -m spacy run package-sm
  script:
    - python -m spacy package  training/sm/model-best packages  --name dep_cltk_sm  --version
      0.3.1 --meta data/meta.json --code scripts/functions.py --force
  deps:
    - path: training/sm/model-best
      md5: 2188b9e2bfa348ec82cf1f34856a540b
  outs:
    - path: packages/la_dep_cltk_sm-0.3.1/dist/en_dep_cltk_sm-0.3.1.tar.gz
      md5: null
  spacy_version: 3.5.1
  spacy_git_version: 8153bd573
train-md:
  cmd: python -m spacy run train-md
  script:
    - python -m spacy train  configs/config-md.cfg --output training/md --gpu-id -1  --paths.train
      corpus/train --paths.dev corpus/dev --nlp.lang=la --code scripts/functions.py
      --paths.vectors vectors/floret-la
  deps:
    - path: corpus/train/mod-la_perseus-ud-train.spacy
      md5: 3e2414254ba92b7a66de8e08eb6e4b5c
    - path: corpus/train/mod-la_proiel-ud-train.spacy
      md5: 9b4c66eaa8876e81434a8b0e3cab6920
    - path: corpus/train/mod-la_ittb-ud-train.spacy
      md5: db1e7a9aabce40cab853324e6e1b8ef3
    - path: corpus/train/mod-la_llct-ud-train.spacy
      md5: 80576bdaeacaa49433dddfcc64db8114
    - path: corpus/train/mod-la_udante-ud-train.spacy
      md5: 5089aab9fa4ae5bfb93c4ddb253406bc
    - path: corpus/dev/mod-la_proiel-ud-dev.spacy
      md5: b3fd65ea6c39b1356f0883fc1194f6ed
    - path: corpus/dev/mod-la_ittb-ud-dev.spacy
      md5: ab928011dc4fd5b57d3533617e909324
    - path: corpus/dev/mod-la_llct-ud-dev.spacy
      md5: 91c49c49c7c440476c15bb1fafca830b
    - path: corpus/dev/mod-la_udante-ud-dev.spacy
      md5: 76032cdcf05b8c257da78bc156f3357a
    - path: corpus/test/mod-la_perseus-ud-test.spacy
      md5: 599ead0a966640ef5f051234c5415843
    - path: corpus/test/mod-la_proiel-ud-test.spacy
      md5: b6296e1ce708e11b98ec4803c2d12044
    - path: corpus/test/mod-la_ittb-ud-test.spacy
      md5: c9d758fea2b2a0283253bdbb609ba729
    - path: corpus/test/mod-la_llct-ud-test.spacy
      md5: 2a3fb1f37dbfd997a81bb381434145e6
    - path: corpus/test/mod-la_udante-ud-test.spacy
      md5: 55562026192b66c610be0c5a1def4596
    - path: configs/config-md.cfg
      md5: 207ba80fc2fa695dfb7c59c411115e1d
  outs:
    - path: training/md/model-best
      md5: e6c189a1ba36405ef9a53b5d1e7e4fe5
  spacy_version: 3.5.1
  spacy_git_version: 8153bd573
evaluate-md:
  cmd: python -m spacy run evaluate-md
  script:
    - python -m spacy evaluate  ./training/md/model-best  ./corpus/test/ --output
      ./metrics/la_dep_cltk_md_0.3.1.json  --code scripts/functions.py --gpu-id -1
  deps:
    - path: training/md/model-best
      md5: e6c189a1ba36405ef9a53b5d1e7e4fe5
    - path: corpus/test/
      md5: f132952907f0884cb5641e9c99c3dcaa
  outs:
    - path: metrics/{vars.md_dep_package_name}-{vars.dep_package_version}.json
      md5: null
  spacy_version: 3.5.1
  spacy_git_version: 8153bd573
package-md:
  cmd: python -m spacy run package-md
  script:
    - python -m spacy package  training/md/model-best packages  --name dep_cltk_md  --version
      0.3.1 --meta data/meta.json --code scripts/functions.py --force
  deps:
    - path: training/md/model-best
      md5: e6c189a1ba36405ef9a53b5d1e7e4fe5
  outs:
    - path: packages/la_dep_cltk_md-0.3.1/dist/en_dep_cltk_md-0.3.1.tar.gz
      md5: null
  spacy_version: 3.5.1
  spacy_git_version: 8153bd573
init-labels:
  cmd: python -m spacy run init-labels
  script:
    - python -m spacy init labels  configs/config.cfg corpus/labels --gpu-id -1  --paths.train
      corpus/train --paths.dev corpus/dev --nlp.lang=la --code scripts/functions.py
  deps:
    - path: corpus/train
      md5: 9d33505a71f76796b72c18f9e985c9cb
    - path: corpus/dev
      md5: 63aedf5a7292b654ee90df2d7e55be8c
    - path: corpus/test
      md5: 68f31d04f137c83bf369213769be8678
    - path: configs/config.cfg
      md5: 2f3e10a8925fee9a768702ede94210a7
  outs:
    - path: corpus/labels/morphologizer.json
      md5: 896742f7698ef11f85e273749772899a
    - path: corpus/labels/parser.json
      md5: d18bbe537bd2f2564e91d0f57abff734
    - path: corpus/labels/tagger.json
      md5: da93dba7fb85084aeeaeca8fd6850480
    - path: corpus/labels/trainable_lemmatizer.json
      md5: 3e86e93d3c6db10a6a847dcaf5898058
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
package:
  cmd: python -m spacy run package
  script:
    - python -m spacy package  training/model-assembled packages  --name core_web_lg  --version
      3.5.3 --meta data/meta.json --code scripts/functions.py --force --build wheel
  deps:
    - path: training/model-assembled
      md5: a8eb0c5c346ea0bf96ad8c25210e8c48
  outs:
    - path: packages/la_core_web_lg-3.5.3/dist/en_core_web_lg-3.5.3.tar.gz
      md5: null
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
clean:
  cmd: python -m spacy run clean
  script:
    - sh -c "rm -rf assets/original/*"
    - sh -c "rm -rf assets/processed/*"
    - sh -c "rm -rf assets/preprocess/*"
    - sh -c "rm -rf corpus/*"
    - sh -c "rm -rf metrics/*"
    - sh -c "rm -rf training/*"
    - sh -c "rm -rf vectors/*"
  deps: []
  outs: []
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
convert-ner:
  cmd: python -m spacy run convert-ner
  script:
    - mkdir -p corpus/ner/train
    - mkdir -p corpus/ner/dev
    - python scripts/convert.py la assets/ner/ud-ner-train.json corpus/ner/train/ud_ner_train.spacy
    - python scripts/convert.py la assets/ner/ud-ner-dev.json corpus/ner/dev/ud_ner_dev.spacy
    - python scripts/convert.py la assets/ner/herodotos-ner-train.json corpus/ner/train/herodotos_ner_train.spacy
    - python scripts/convert.py la assets/ner/herodotos-ner-train.json corpus/ner/dev/herodotos_ner_dev.spacy
  deps:
    - path: assets/ner/ud-ner-train.json
      md5: 649ca5bc70e08d9991b7ebc55423871e
    - path: assets/ner/ud-ner-dev.json
      md5: 88a99384b6fcebc7f8fed532a0006585
    - path: assets/ner/herodotos-ner-train.json
      md5: a02676aa178c58325b1f85b4bf2e2046
    - path: assets/ner/herodotos-ner-train.json
      md5: a02676aa178c58325b1f85b4bf2e2046
    - path: scripts/convert.py
      md5: 2fdf7eb940f2c437ab9a0f589824b6bc
  outs:
    - path: corpus/ner/train/ud_ner_train.spacy
      md5: 46154503373bdd73f02504087e6d67fb
    - path: corpus/ner/train/ud_ner_dev.spacy
      md5: null
    - path: corpus/ner/train/herodotos_ner_train.spacy
      md5: 6418ff6808848c6e6353f2ecefb77bc4
    - path: corpus/ner/train/herodotos_ner_dev.spacy
      md5: null
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
create-ner-config:
  cmd: python -m spacy run create-ner-config
  script:
    - python -m spacy init config --lang la --pipeline ner configs/ner_config.cfg
      --force
  deps: []
  outs:
    - path: configs/ner_config.cfg
      md5: 9554fcbc616751ec7a6695cc7fc21b27
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
train-ner-sm:
  cmd: python -m spacy run train-ner-sm
  script:
    - mkdir -p training/sm/ner
    - python -m spacy train configs/ner_config.cfg --output training/sm/ner --paths.train
      corpus/ner/train --paths.dev corpus/ner/dev --training.eval_frequency 10 --training.patience
      50 --gpu-id -1
  deps:
    - path: configs/ner_config.cfg
      md5: 9554fcbc616751ec7a6695cc7fc21b27
    - path: corpus/ner/train
      md5: 2c5c7961937139431d356ecc6ac65c4e
    - path: corpus/ner/dev
      md5: 850e333e68476b3c5a681788e80a9b79
  outs:
    - path: training/sm/ner/model-best
      md5: 858ba13429b4585ff7e9fc9a58192e8f
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
train-ner-md:
  cmd: python -m spacy run train-ner-md
  script:
    - mkdir -p training/md/ner
    - python -m spacy train configs/ner_config.cfg --output training/md/ner --paths.train
      corpus/ner/train --paths.dev corpus/ner/dev --training.eval_frequency 10 --training.patience
      50 --gpu-id -1 --code scripts/functions.py --initialize.vectors training/md/model-best
      --components.tok2vec.model.embed.include_static_vectors false
  deps:
    - path: configs/ner_config.cfg
      md5: 9554fcbc616751ec7a6695cc7fc21b27
    - path: corpus/ner/train
      md5: 2c5c7961937139431d356ecc6ac65c4e
    - path: corpus/ner/dev
      md5: 850e333e68476b3c5a681788e80a9b79
  outs:
    - path: training/md/ner/model-best
      md5: fbfff3f9d7eaab54c340baeace68ef5a
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
assemble-sm-core:
  cmd: python -m spacy run assemble-sm-core
  script:
    - python -m spacy assemble configs/config-sm-core.cfg training/sm/model-assembled
      --code scripts/functions.py
  deps:
    - path: training/sm/model-best
      md5: 652eaf03ca939a1fc5e10c18bb97ef40
  outs:
    - path: metrics/{vars.core_package_name}-{vars.core_package_version}.json
      md5: null
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
assemble-md-core:
  cmd: python -m spacy run assemble-md-core
  script:
    - python -m spacy assemble configs/config-md-core.cfg training/md/model-assembled
      --code scripts/functions.py
  deps:
    - path: training/md/model-best
      md5: 5cb8a7428c9634915db2d4af326327e5
  outs:
    - path: metrics/{vars.core_package_name}-{vars.core_package_version}.json
      md5: null
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
package-sm-dep:
  cmd: python -m spacy run package-sm-dep
  script:
    - python -m spacy package  training/sm/model-best packages  --name dep_cltk_sm  --version
      0.4.0 --meta data/meta.json --code scripts/functions.py --force
  deps:
    - path: training/sm/model-best
      md5: 2188b9e2bfa348ec82cf1f34856a540b
  outs:
    - path: packages/la_dep_cltk_sm-0.4.0/dist/en_dep_cltk_sm-0.4.0.tar.gz
      md5: null
  spacy_version: 3.5.1
  spacy_git_version: 8153bd573
package-sm-core:
  cmd: python -m spacy run package-sm-core
  script:
    - python -m spacy package  training/sm/model-assembled packages  --name core_web_sm  --version
      3.5.1 --meta data/meta.json --code scripts/functions.py --force
  deps:
    - path: training/sm/model-assembled
      md5: 1e596f106765f2808872275858e6a132
  outs:
    - path: packages/la_core_web_sm-3.5.1/dist/en_core_web_sm-3.5.1.tar.gz
      md5: null
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
package-md-core:
  cmd: python -m spacy run package-md-core
  script:
    - python -m spacy package  training/md/model-assembled packages  --name core_web_md  --version
      3.5.1 --meta data/meta.json --code scripts/functions.py --force
  deps:
    - path: training/md/model-assembled
      md5: 06f043b05b07145dfad4862158e40a2f
  outs:
    - path: packages/la_core_web_md-3.5.1/dist/en_core_web_md-3.5.1.tar.gz
      md5: null
  spacy_version: 3.5.2
  spacy_git_version: aea4a96f9
package-md-dep:
  cmd: python -m spacy run package-md-dep
  script:
    - python -m spacy package  training/md/model-best packages  --name dep_cltk_md  --version
      0.4.0 --meta data/meta.json --code scripts/functions.py --force
  deps:
    - path: training/md/model-best
      md5: aead35dfed911fecf606621c3b6c70f1
  outs:
    - path: packages/la_dep_cltk_md-0.4.0/dist/en_dep_cltk_md-0.4.0.tar.gz
      md5: null
  spacy_version: 3.5.1
  spacy_git_version: 8153bd573
assemble-meta:
  cmd: python -m spacy run assemble-meta
  script:
    - python scripts/assemble_meta.py --dep_meta training/model-best/meta.json --ner_meta
      training/ner/model-best/meta.json --assembled_meta training/model-assembled/meta.json
  deps: []
  outs: []
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
train-ner:
  cmd: python -m spacy run train-ner
  script:
    - mkdir -p training/ner
    - python -m spacy train configs/ner_config.cfg --output training/ner --paths.train
      corpus/ner/train --paths.dev corpus/ner/dev --training.eval_frequency 10 --training.patience
      100 --gpu-id -1 --code scripts/functions.py --initialize.vectors training/model-best
  deps:
    - path: configs/ner_config.cfg
      md5: 16960e8687dc948042d073f64cc3ab9d
    - path: corpus/ner/train
      md5: 2c5c7961937139431d356ecc6ac65c4e
    - path: corpus/ner/dev
      md5: 850e333e68476b3c5a681788e80a9b79
  outs:
    - path: training/ner/model-best
      md5: 69557b7b73758e2b38a66ecc3b6c7fc6
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
assemble:
  cmd: python -m spacy run assemble
  script:
    - python -m spacy assemble configs/config-core.cfg training/model-assembled --code
      scripts/functions.py
  deps:
    - path: training/model-best
      md5: fab8d44b8f84ef09006aedc3518268ba
  outs:
    - path: metrics/{vars.package_name}-{vars.package_version}.json
      md5: null
    - path: training/model-assembled
      md5: 0c3cfef973154ffa0d3249fff3153acb
  spacy_version: 3.5.3
  spacy_git_version: '512241e12'
